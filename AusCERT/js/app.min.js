angular.module("app",["ui.router","LocalStorageModule","app.controllers","app.directives","app.services","app.filters","app.models"]),angular.module("app.controllers",[]),angular.module("app.directives",[]),angular.module("app.services",[]),angular.module("app.filters",[]),angular.module("app.models",[]);var AccountsCtrl=function($scope,$oauth){this.$oauth=$oauth,this.facebook=$oauth.isAuthenticated("facebook"),this.twitter=$oauth.isAuthenticated("twitter"),this.google=$oauth.isAuthenticated("google"),this.fourChan=!1,this.tumblr=$oauth.isAuthenticated("tumblr"),this.instagram=$oauth.isAuthenticated("instagram"),this.linkedIn=$oauth.isAuthenticated("linkedin"),this.pinterest=!1,this.reddit=!1,this.pasteBin=!1};AccountsCtrl.prototype={addFacebook:function(){this.$oauth.authFacebook().then(function(){this.facebook=!0}.bind(this))},addTwitter:function(){this.$oauth.authTwitter().then(function(){this.twitter=!0}.bind(this))},addGoogle:function(){},addFourChan:function(){},addTumblr:function(){},addInstagram:function(){},addLinkedIn:function(){},addPinterest:function(){},addReddit:function(){},addPasteBin:function(){}},angular.module("app.controllers").controller("AccountsCtrl",AccountsCtrl),angular.module("app.controllers").controller("AppCtrl",function($scope){});var DashboardCtrl=function($scope,$moment,threat_timelapse,threat_sentiment){var trending_threats=["DDoSANZ","ANZChelmer","LoremIpsum","ThisIsBatCountry","ClarenceTheCameleon"];this.$moment=moment,this.trending_threats=trending_threats,this.threat_timelapse=threat_timelapse,this.threat_sentiment=parseFloat(threat_sentiment),setTimeout(function(){this.drawNumberOfThreats(),this.drawThreatLocations(),this.drawOverallSentiment()}.bind(this),500)};DashboardCtrl.prototype={drawNumberOfThreats:function(){var data=[];data.push(["Date","Number of Threats"]),angular.forEach(this.threat_timelapse,function(timelapse){for(var date in timelapse){var date_moment=this.$moment(date,"YYYY-MM-DD");data.push([date_moment.format("MMM"),timelapse[date]])}}.bind(this)),data=google.visualization.arrayToDataTable(data);var options={curveType:"function",backgroundColor:{fill:"transparent"},legend:"none"},chart=new google.visualization.LineChart(document.getElementById("curve_chart"));chart.draw(data,options)},drawThreatLocations:function(){var mapOptions={zoom:8,center:new google.maps.LatLng(-27.467391,152.997219)};new google.maps.Map(document.getElementById("map_canvas"),mapOptions)},drawOverallSentiment:function(){var negative=this.threat_sentiment,positive=(1-negative)/4,neutral=1-negative-positive,data=google.visualization.arrayToDataTable([["Approval","Percentage"],["Positive",positive],["Negative",negative],["Neutral",neutral]]),options={pieHole:.3,backgroundColor:{fill:"transparent"},legend:"none"},chart=new google.visualization.PieChart(document.getElementById("piechart"));chart.draw(data,options)}},angular.module("app.controllers").controller("DashboardCtrl",DashboardCtrl);var TrendingDetailCtrl=function($scope,$stateParams,posts){this.trendingThreat=$stateParams.threat,this.posts=posts};TrendingDetailCtrl.prototype={},angular.module("app.controllers").controller("TrendingDetailCtrl",TrendingDetailCtrl),angular.module("app.models").service("$user",function(){var user=function(config){config=config||{}};return user.prototype={save:function(){}},user}).factory("User",function($q,$http,$user){var user,service={get:function(){return service.init().then(function(){return user})},create:function(config){user=new $user(config)}};return service}),angular.module("app").config(function($locationProvider,$stateProvider,$urlRouterProvider){$locationProvider.html5Mode(!0),$stateProvider.state("app",{"abstract":!0,templateUrl:"/partials/app.html"}).state("app.accounts",{url:"/accounts",views:{app:{templateUrl:"/partials/accounts.html",controller:"AccountsCtrl as ctrl"}}}).state("app.retrieving-data",{url:"/retrieving-data",views:{app:{templateUrl:"/partials/retrieving-data.html"}}}).state("app.dashboard",{url:"/dashboard",views:{app:{templateUrl:"/partials/dashboard.html",controller:"DashboardCtrl as ctrl"}}}).state("app.trending-detail",{url:"/dashboard/trending/:threat",views:{app:{templateUrl:"/partials/trending-detail.html",controller:"TrendingDetailCtrl as ctrl"}}}),$urlRouterProvider.otherwise("/dashboard")}),angular.module("app.services").constant("API_PRETEND",!1).constant("API_URL","http://deco3800-certcurity.uqcloud.net/api/").service("$api",function($http,$q,$apiStatic,API_PRETEND,API_URL){return{get:function(url){return API_PRETEND?$apiStatic.has(url)?$q.when($apiStatic.get(url)):$q.when({}):$http.get(API_URL+url).then(function(response){return response.data})},post:function(url,data){return API_PRETEND?$q.when({}):$http.post(API_URL+url,data).then(function(response){return response.data})}}}).service("$apiStatic",function(){var data={"request.php?method=currentthreats":[{message:"Going to firebomb @ANZ branch tomorrow if they don't pick up the phone",name:"RationalHuman89",platform:"Twitter",url:"http://twitter.com/rationalhuman89/status/604278477437554684"},{message:"You are a DISGRACE! These interest rates are out of control! #BoycottWestpac #SendAMessage",name:"John Johnson",platform:"Facebook",url:"https://www.facebook.com/Westpac/posts/10153376129922744"},{message:"Really disappointed in @NAB, your online services have been offline for hours...",name:"Tweeterer2183",platform:"Twitter",url:"http://twitter.com/tweeterer2183/status/484278477437565684"},{message:"Operation bankrupture is a go! Current target: banking.anz.com.au, point your LOICs and fire",name:"Anonymous",platform:"8chan",url:"http://8ch.net/b/res/49784564.html"}],"request.php?method=threatnum":[{"2015-01-01":201},{"2015-02-01":149},{"2015-03-01":274},{"2015-04-01":231},{"2015-05-01":304},{"2015-06-01":17}],"request.php?method=sentiment&platform=twitter&owner=1":.32191666666666696,"request.php?method=count&platform=twitter":231355,"request.php?method=count&platform=facebook":608,"request.php?method=count&platform=4chan":830,"request.php?method=count&platform=8chan":768};return{has:function(url){return!!data[url]},get:function(url){return data[url]}}}),angular.module("app.services").service("$moment",function($window){return $window.moment}),angular.module("app.services").constant("OAUTH_PUBLIC_KEY","gVodH-6ZstnNGe_y4nkG_C8ziCs").service("$oauth",function($q,localStorageService,OAUTH_PUBLIC_KEY){return OAuth.initialize(OAUTH_PUBLIC_KEY),{getToken:function(service){return localStorageService.get(service+"_token")},setToken:function(service,token){return localStorageService.set(service+"_token",token)},isAuthenticated:function(service){return!!this.getToken(service)},auth:function(service){if(this.isAuthenticated(service))return $q.when(this.getToken(service));var deferred=$q.defer();return OAuth.popup(service).done(function(response){this.setToken(service,response),deferred.resolve()}.bind(this)).fail(function(err){deferred.reject(err)}),deferred.promise},authTwitter:function(){return this.auth("twitter")},authFacebook:function(){return this.auth("facebook")}}}),angular.module("app.services").constant("TWITTER_CALLBACK_STATE","app.accounts").service("$twitter",function($http,$state,$oauth,TWITTER_CALLBACK_STATE){return{authorise:function(){console.log("$twitter.authorise()"),console.log($oauth),$oauth.popup("twitter")}}});
//# sourceMappingURL=app.min.js.map